#include <stdio.h>
#include <stdlib.h>

struct node{
    int key,height;
    struct node *left,*right;
};

int height(struct node* n){ return n? n->height:0; }
int max(int a,int b){ return a>b?a:b; }

struct node* newNode(int key){
    struct node* n=malloc(sizeof(struct node));
    n->key=key; n->left=n->right=NULL; n->height=1;
    return n;
}

struct node* insert(struct node* node,int key){
    if(!node) return newNode(key);
    if(key<node->key) node->left=insert(node->left,key);
    else if(key>node->key) node->right=insert(node->right,key);
    node->height=1+max(height(node->left),height(node->right));
    return node;
}

int search(struct node* root,int key){
    if(!root) return 0;
    if(root->key==key) return 1;
    if(key<root->key) return search(root->left,key);
    return search(root->right,key);
}

int main(){
    struct node* root=NULL;
    root=insert(root,10);
    root=insert(root,20);
    root=insert(root,5);
    printf("Search 20: %d",search(root,20));
}
